<!DOCTYPE html >
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en-US"> <!--<![endif]-->
<head>
    <!-- BASE META -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- SITE TITLE -->
    <title>森度</title>

    <!--SITE INFO -->
    <meta name="robots" content="index,follow">
    <meta name="author" content="cuican">
    <meta name="application-name" content="森度">
    <meta name="keywords" content="Thonatos,Thonatos.Yang,Grimrock,Juy">
    <meta name="description" content=""/>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>

    <!-- INCLUDE STYLE -->
    <link href="http://cdn.bootcss.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- SITE FAVICONS -->
    <link rel="shortcut icon" href="/images/favicon.ico"/>

    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/style-old-ie.min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/css/style.min.css">
    <!--<![endif]-->

</head>
<body>
<div class="layout">
  <!--sidebar-->
  <div class="sidebar">
    <!-- Side Start -->
    <!-- Siderbar  -->
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="http://thinkdo.github.io" alt="森度"><img class="pure-img" src="/images/osbloglg.png"/></a></h1>
            <h2 class="brand-tagline">
                <small>森度的博客</small>
            </h2>
        </hgroup>

        <div id="sidebar_nav" class="pure-menu pure-menu-open">
            <ul>
                
                <li><a href="/">Home</a></li>
                
                <li><a href="/archives">Archives</a></li>
                
                <li><a href="/author">About</a></li>
                
            </ul>
        </div>
    </div>
    <!-- Side End-->
</div>

  <!--content-->
  
<div class="content pure-g">
    <div class=" pure-u-1">
        <!-- A wrapper for all the blog posts start -->
        <a href="#menu" id="menuLink" class="menu-link">
    <span></span>
</a>
<div class="content-header">
    <div id="content-header-nav" class="pure-menu pure-menu-open">
        <ul>
            <li><a href="http://thinkdo.github.io">森度</a></li>
            
            <li><a href="/">Home</a></li>
            
            <li><a href="/archives">Archives</a></li>
            
            <li><a href="/author">About</a></li>
            
        </ul>
    </div>
</div>

        <div class="posts">
            <h1 class="content-subhead"> Post </h1>

            <!-- A single blog post start -->

          <section class="post">
            <header class="post-header">
              <h2 class="post-title">二、http详细理解</h2>
              <p class="post-meta">
    <time class="post-category post-category-design" datetime="2016-07-26T08:10:06.000Z" itemprop="datePublished">
        2016-07-26
    </time>
    
</p>
            </header>
            <div class="post-banner">
            </div>
            <div class="post-description">
              <p>###虚拟主机<br>一台http服务器允许搭建多个web站点，这时候可以利用虚拟主机去完成，外表看上去是多个域名，实际对应的都是同一台服务器，同一个ip。所以在客户端进行请求时，Host首部字段的域名是十分重要的，用来区分到底是访问的哪个域名的站点。</p>
<p>###转发程序<br>一、代理<br>代理在客户端和服务器端扮演了中间人的角色，接收客户端的请求然后转发给服务器端，接收服务器端的响应再转发给客户端。代理服务器可以设置一些缓存，提高访问效率，当客户端再次访问相同的请求时，就可以直接从代理服务器上拿到结果，而不必再去请求服务器端。代理服务器同时也应用于各大公司，用于限制一些网站的访问、获取访问日志。<br>二、网关<br>一个网络连接到另一个网络的“关口”。当一台计算机想连接外部网络时，必须设置网关。但是网关可以去连接非http协议的服务器，并且可以在客户端和网关之间的通信线路上加密。<br>三、隧道<br>可以在客户端和服务器端建立一条经过SSL加密后的隧道，在通信结束后双方断开。隧道的目的就是确保通信的安全。</p>
<p>###Http首部字段<br>首部字段由首部字段名和字段值构成，字段值可以是一个、也可以是多个。<br>1、通用首部字段：<br><img src="../../../../images/http_headerFiled1.png" alt="通用首部字段"><br>Cache-Control:public 表明任何用户都可以利用缓存<br>Cache-Control:private 表明其他用户不能利用缓存<br>Cache-Control:no-cache 如果是客户端发送的，表明客户端不要从缓存中读取<strong>过期</strong>数据；如果是服务器端发送的，相当于告诉客户端不要缓存数据<br>Cache-Control:s-maxage=604800 该参数表明，当使用代理服务器时，判断缓存存在的时间比604800小，则使用缓存，但是仅对多用户之间生效（maxage适用于单用户）。<br>Cache-Control:only-if-cached 表明仅存在缓存的时候才返回<br>Cache-Control:no-transform 表明无论响应还是请求，缓存都不能改变实体主体的媒体类型。可防止缓存或代理压缩图片。<br>Connection:Keep-Alive 表明http链接的持久性，当服务器想断开连接时发送Connection:close。<br>Pragma:no-cache 只存在客户端发送的请求中，是http1.1之前的历史遗留字段，代表指定所有的中间服务器都不得使用缓存。一般组合Cache-Control:no-cache进行使用。<br>Transfer-Encoding:chunked 表明是分块传输编码<br>Upgrade:TLS/1.0 表明客户端询问服务器端是否可使用TLS/1.0进行通信。需配合Connection:Upgrade使用。<br>2、请求首部字段<br><img src="../../../../images/http_headerFiled2.png" alt="请求首部字段"><br>Accept:text/plain;q=0.3,text/htm 客户端可接收的媒体类型及优先级<br>Accept-Charset:utf-8;q=0.9 字符集及字符集的优先级<br>Host：www.baidu.com 主机的域名<br>Range:bytes=5006-10000 这是获取部分资源的范围请求，该示例表明获取第5006到10000字节的资源。<br>Referer：<a href="http://m.csdn.net/" target="_blank" rel="external">http://m.csdn.net/</a> 代表当前这个请求是从<a href="http://m.csdn.net/页面发起的。" target="_blank" rel="external">http://m.csdn.net/页面发起的。</a><br>User-Agent:Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1<br>将浏览器信息、代理服务器的名称等传给服务器</p>
<p>3、响应首部字段<br><img src="../../../../images/http_headerFiled3.png" alt="响应首部字段"><br>Accept-Ranges:bytes 表明可以接受范围请求，none表示不可以接受范围请求<br>Server：Apache/2.2.17(Unix) 服务器端使用的http服务器应用程序的信息</p>
<p>4、实体首部字段<br><img src="../../../../images/http_headerFiled4.png" alt="实体首部字段"><br>Allow:Get,HEAD 服务器端告诉客户端能支持的方法。如果此时请求了Post方法，则服务器端会返回405</p>
<p>###HTTPS<br>http是未加密的协议，所以http存在以下问题：<br>1、通信使用明文，有可能被窃听<br>2、不验证通信双方的身份，有可能遭遇伪装<br>3、无法证明报文的完整性，有可能被篡改<br>解决方式：最常用的解决窃听的方法，是https和“内容加密”；ssl的证书方式解决伪装；数字签名的方式解决篡改问题。解决上述三个问题的方式是Https。https并不是一种协议，而是http的某部分通信接口用SSl或者TLS代替，SSL不仅可以和http组合使用，还可以和其他协议组合使用，如SMTP和telnet等。<br>了解ssl前，先了解一下常用的加密方式，常见的加密方式有两种：<br>1、共享密钥<br>共享密钥是指加密和解密的是同一个密钥，这就有可能造成密钥在通信的过程中被劫持<br>2、公开密钥<br>两个密钥，一个公开密钥用于加密，一个私有密钥用于解密，但缺点是效率低<br>SSL采用混合式加密机制，即用公开密钥传递共享秘钥后，今后的通信都用共享密钥进行通信。但是没有办法验证公开密钥的合法性，所以引入了SSL证书，由通信双方都信任的机构颁发的证书来获取公开密钥。由于如何将证书安全的转交给浏览器是一件困难的事儿，所以浏览器会预制一些常用的机构的证书。还有一个是客户端证书，比如U盾要求安装的客户端证书。也可以用openSSL这套开源程序，建立自签名证书。</p>

            </div>
          </section>

            <nav class="pagination" role="pagination">
    
    <a class="newer-posts" href="/2016/07/10/react-redux/">
        ← 用react-redux改造弹框组件
    </a>
    
    <span class="page-number">•</span>
    
    <a class="older-posts" href="/2016/12/01/elaticsearch/">
        elasticSearch安装+使用 →
    </a>
    
</nav>
            <div id="comment" class="comments-area">
    <h1 class="title"><a href="#disqus_comments" name="disqus_comments">Comments</a></h1>

    
    <div id="ds-thread" class="ds-thread" data-thread-key="2016/07/26/httpDeeper2/" data-title="二、http详细理解" data-url="http://thinkdo.github.io/2016/07/26/httpDeeper2/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"datoublog"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
    
</div>
            <!-- page-nav-start -->
            <div class="clear" style="height: 25px;">&nbsp;</div>
            <!-- A single blog post end -->
        </div>

        <!-- A wrapper for all the blog posts end -->
        <div class="footer">
    <p></p>
</div>
    </div>
</div>

</div>
<!-- footer start -->
<!-- Le javascript
================================================== -->
<!-- BASE JAVASCRIPT -->
<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://www.thonatos.com/engine/wp-content/themes/Jure-v3/style/js/vendor/jquery-1.11.0.min.js"><\/script>')</script>
<script src="http://cdn.bootcss.com/highlight.js/8.1/highlight.min.js"></script>
<!--<script src="/style/js/plugin/jquery.highlight/highlight.min.js"></script>-->
<script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script>
<script src="http://cdn.bootcss.com/jquery.nicescroll/3.5.1/jquery.nicescroll.min.js"></script>
<!-- CUSTOM JAVASCRIPT -->
<!-- PLUGIN JAVASCRIPT -->
<script src="/js/app.js"></script>

</body>
</html>
